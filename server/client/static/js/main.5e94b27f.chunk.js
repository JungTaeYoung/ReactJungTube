(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{1109:function(e,t,a){},1110:function(e,t,a){e.exports=a.p+"static/media/index.d41d8cd9.less"},1111:function(e,t){},1112:function(e,t,a){},1113:function(e,t,a){},1118:function(e,t,a){"use strict";a.r(t);a(375),a(386),a(387),a(388),a(389),a(390),a(391),a(392),a(393),a(394),a(395),a(396),a(397),a(398),a(399),a(578),a(579),a(580),a(581),a(582),a(583),a(584),a(402),a(586),a(587),a(228),a(588),a(589),a(590),a(591),a(592),a(593),a(594),a(595),a(596),a(597),a(598),a(599),a(600),a(601),a(603),a(604),a(606),a(607),a(411),a(230),a(608),a(609),a(610),a(611),a(612),a(613),a(614),a(615),a(616),a(617),a(618),a(619),a(620),a(621),a(622),a(623),a(416),a(624),a(625),a(626),a(627),a(628),a(629),a(630),a(631),a(632),a(633),a(634),a(636),a(637),a(638),a(639),a(640),a(641),a(642),a(643),a(644),a(645),a(646),a(647),a(648),a(649),a(650),a(651),a(652),a(653),a(654),a(655),a(325),a(657),a(658),a(659),a(660),a(663),a(664),a(665),a(667),a(668),a(669),a(670),a(671),a(672),a(673),a(674),a(675),a(676),a(677),a(428),a(678),a(679),a(328),a(680),a(681),a(682),a(683),a(238),a(684),a(685),a(686),a(687),a(688),a(689),a(690),a(691),a(692),a(693),a(694),a(695),a(696),a(697),a(698),a(699),a(700),a(701),a(702),a(703),a(704),a(705),a(706),a(707),a(708),a(709),a(711),a(712),a(713),a(714),a(715),a(716),a(717),a(718),a(719),a(720),a(721),a(722),a(724),a(725),a(726),a(727),a(728),a(729),a(730),a(731),a(732),a(733),a(734),a(735),a(736),a(737),a(738),a(739),a(740),a(741),a(742),a(743),a(744),a(333),a(745),a(746),a(748),a(749),a(750),a(751),a(752),a(436),a(437),a(438),a(439),a(440),a(441),a(442),a(443),a(444),a(445),a(446),a(447),a(448),a(449),a(450),a(451),a(452),a(755),a(756),a(757),a(758),a(759),a(760),a(761),a(762),a(763),a(764),a(765),a(766),a(767),a(768),a(769),a(770),a(772),a(774),a(775),a(776),a(777),a(778),a(779),a(780),a(781),a(782),a(783),a(454),a(456),a(457),a(458),a(459),a(460),a(461),a(462),a(463),a(464),a(465),a(466),a(467),a(468),a(469),a(470),a(471),a(472),a(784),a(785),a(786),a(788),a(473),a(474),a(475),a(790),a(791),a(792),a(793),a(794),a(795),a(796),a(797),a(477),a(799),a(800),a(801),a(803),a(479),a(804),a(480);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),o=(a(814),a(47)),i=a(26),s=a.n(i);function u(){return{type:"auth_user",payload:s.a.get("".concat("/api/users","/auth")).then((function(e){return e.data}))}}function m(){return{type:"my_info",payload:s.a.get("".concat("/api/users","/myinfo")).then((function(e){return e.data}))}}var d=a(39),p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function l(l){var c=Object(d.c)((function(e){return e.user})),o=Object(d.b)();return Object(n.useEffect)((function(){o(u()).then((function(e){e.payload.isAuth?(a&&!e.payload.isAdmin||!1===t)&&l.history.push("/videos"):t&&l.history.push("/login")})),o(m())}),[]),r.a.createElement(e,Object.assign({},l,{user:c}))}return l},E=a(148),f=a(56),b=a(13),h=a(183),g=a.n(h),v=a(186),y=a(265);var O=function(e,t){var a=Object(n.useState)(!0),r=Object(b.a)(a,2),l=r[0],c=r[1],o=Object(n.useState)(!1),i=Object(b.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)([]),p=Object(b.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(!1),O=Object(b.a)(h,2),j=O[0],w=O[1],S=Object(n.useCallback)(Object(y.a)(g.a.mark((function a(){var n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n={params:{querys:e,page:t}},a.next=4,c(!0);case 4:return a.next=6,m(!1);case 6:return a.next=8,s.a.get("/api/video/getVideos",n);case 8:return r=a.sent,console.log(r),a.next=12,f((function(e){return Object(v.a)(new Set([].concat(Object(v.a)(e),Object(v.a)(r.data.videos))))}));case 12:return a.next=14,w(r.data.videos.length>0);case 14:c(!1),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),console.log("\uc624\ub958\ub0a8"),m(a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,17]])}))),[e,t]);return Object(n.useEffect)((function(){S(e)}),[e,S,t]),{Loading:l,Error:u,List:E,HasMore:j}},j=a(88),w=a(305),S=a(571);a(881);var k=function(e){e.match,e.location;var t=Object(o.f)(),a=Object(n.useState)(!1),l=Object(b.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)([!1]),u=Object(b.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"fullBox"},r.a.createElement("div",{className:"fullCenter"},r.a.createElement(w.a,{type:"bottom",mode:"smooth",delay:500,duration:500,style:{fontSize:"2.5rem"}},"\uc548\ub155\ud558\uc138\uc694."),r.a.createElement(w.a,{type:"bottom",mode:"smooth",delay:2e3,duration:500,style:{fontSize:"1.8rem"}},"\uc81c React\ud504\ub85c\uc81d\ud2b8\uc5d0 \uc640\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4."),r.a.createElement(w.a,{type:"bottom",mode:"smooth",delay:3500,duration:20,style:{fontSize:"0.8rem"},onEnd:function(){setTimeout((function(){i(!0)}),3500)}},"\ubcf8 \ud504\ub85c\uc81d\ud2b8\ub294 React and nodejs\ub97c \uc2b5\ub4dd\ud558\uae30 \uc704\ud574 \ub9cc\ub4e4\uc5b4\uc84c\uc2b5\ub2c8\ub2e4."),r.a.createElement("div",{className:"buttonSize"+(c?" active":"")},c?r.a.createElement(S.a,{type:"bottom",delay:1e3,duration:300,key:"text",leaveReverse:!0,ease:["easeOutCubic","easeInCubic"]},r.a.createElement(j.a,{loading:m[0],onClick:function(){return e=0,d(Object(f.a)(Object(f.a)({},m),{},Object(E.a)({},e,!0))),void setTimeout((function(){d(Object(f.a)(Object(f.a)({},m),{},Object(E.a)({},e,!1))),t.push("/videos")}),2e3);var e}},"Click me!")):null))))},x=a(1125),I=a(1123),C=a(90),T=a(1129),N=a(187),_=a(555),L=a(273),M=a.n(L),D=a(112),P=a.n(D),F=a(61),q=(x.a.Title,I.a.Meta);var A=Object(o.g)((function(e){e.match;var t=e.location,a=M.a.parse(t.search),l=Object(n.useState)(""),c=Object(b.a)(l,2),o=(c[0],c[1],Object(n.useState)(1)),i=Object(b.a)(o,2),s=i[0],u=i[1],m=O(a.search_query,s),d=m.Loading,p=m.Error,E=m.List,f=m.HasMore,h=Object(n.useRef)(),g=Object(n.useCallback)((function(e){d||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver((function(e){e[0].isIntersecting&&f&&u((function(e){return e+1}))})),e&&h.current.observe(e))}),[d,f]),v=Object(n.useState)([]),y=Object(b.a)(v,2);y[0],y[1],Object(n.useEffect)((function(){u(1)}),[]);var j=E.map((function(e,t){var a=E.length===t+1,n=Math.floor(e.duration/60),l=Math.floor(e.duration-60*n);return a?r.a.createElement(C.a,{lg:6,md:8,xs:24,key:t,ref:g},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(F.b,{to:"/video/".concat(e._id)},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("img",{style:{width:"100%"},src:"http://localhost:5000/".concat(e.thumbnail)}),r.a.createElement("div",{className:"duration"},r.a.createElement("span",null,n," : ",l)))),r.a.createElement("br",null),r.a.createElement(q,{avatar:r.a.createElement(T.a,{src:e.writer.image}),title:e.title,description:""}),r.a.createElement("span",null,e.writer.name),r.a.createElement("br",null),r.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," - ",r.a.createElement("span",null,P()(e.createdAt).format("MMM Do YY")))):r.a.createElement(C.a,{lg:6,md:8,xs:24,key:t},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(F.b,{to:"/video/".concat(e._id)},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("img",{style:{width:"100%"},src:"http://localhost:5000/".concat(e.thumbnail)}),r.a.createElement("div",{className:"duration"},r.a.createElement("span",null,n," : ",l)))),r.a.createElement("br",null),r.a.createElement(q,{avatar:r.a.createElement(T.a,{src:e.writer.image}),title:e.title,description:""}),r.a.createElement("span",null,e.writer.name),r.a.createElement("br",null),r.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," - ",r.a.createElement("span",null,P()(e.createdAt).format("MMM Do YY"))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"mainTopText",style:{width:"98%",margin:"1rem auto 4rem"}},r.a.createElement("p",{style:{fontSize:"30px",marginBottom:"14px"}},"\ud83c\udf85"),r.a.createElement("h2",{className:"title"},"\uc601\uc0c1 \uc800\uc7a5\uc18c\uc5d0 \uc624\uc2e0 \uac78 \ud658\uc601\ud569\ub2c8\ub2e4."),r.a.createElement("p",{className:"description"},"\uc5ec\ub7ec\ubd84\ub4e4\uc758 \ub2e4\uc591\ud55c \uc601\uc0c1\ub4e4\uc744 \uacf5\uc720\ud574\ubcf4\uc138\uc694. \uc774 \ubaa8\ub4e0\uac8c \ubb34\ub8cc\uc785\ub2c8\ub2e4.")),r.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},r.a.createElement(N.a,{gutter:[16,48]},j,d&&r.a.createElement(_.a,null),p&&r.a.createElement(_.a,null))))})),B=a(289),R=a(86),z=a(1124),V=a(1127),H=a(1131),Y=a(1134),W=a(1135),U=x.a.Title;var X=Object(o.g)((function(e){var t=Object(d.b)(),a=!!localStorage.getItem("rememberMe"),l=Object(n.useState)(""),c=Object(b.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(a),m=Object(b.a)(u,2),p=m[0],E=m[1],f=function(){E(!p)},h=localStorage.getItem("rememberMe")?localStorage.getItem("rememberMe"):"";return r.a.createElement(B.a,{initialValues:{email:h,password:""},validationSchema:R.object().shape({email:R.string().email("Email is invalid").required("Email is required"),password:R.string().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password};t(function(e){return{type:"login_user",payload:s.a.post("".concat("/api/users","/login"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.loginSuccess?(console.log(t.payload),window.localStorage.setItem("userId",t.payload.userId),window.localStorage.setItem("userFullName",t.payload.name),window.localStorage.setItem("userImage",t.payload.image),!0===p?window.localStorage.setItem("rememberMe",a.id):localStorage.removeItem("rememberMe"),e.history.push("/videos")):i("Check out your Account or Password again")})).catch((function(e){i("Check out your Account or Password again"),setTimeout((function(){i("")}),3e3)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),c=e.handleChange,i=e.handleBlur,s=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app"},r.a.createElement(U,{level:2},"Log In"),r.a.createElement("form",{onSubmit:s,style:{width:"350px"}},r.a.createElement(z.a.Item,{required:!0},r.a.createElement(V.a,{id:"email",prefix:r.a.createElement(Y.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your email",type:"email",value:t.email,onChange:c,onBlur:i,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(z.a.Item,{required:!0},r.a.createElement(V.a,{id:"password",prefix:r.a.createElement(W.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Enter your password",type:"password",value:t.password,onChange:c,onBlur:i,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),o&&r.a.createElement("label",null,r.a.createElement("p",{style:{color:"#ff0000bf",fontSize:"0.7rem",border:"1px solid",padding:"1rem",borderRadius:"10px"}},o)),r.a.createElement(z.a.Item,null,r.a.createElement(H.a,{id:"rememberMe",onChange:f,checked:p},"Remember me"),r.a.createElement("a",{className:"login-form-forgot",href:"/reset_user",style:{float:"right"}},"forgot password"),r.a.createElement("div",null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{minWidth:"100%"},disabled:l,onSubmit:s},"Log in")),"Or ",r.a.createElement("a",{href:"/register"},"register now!"))))}))})),J={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},K={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};var G=function(e){var t=Object(d.b)();return r.a.createElement(B.a,{initialValues:{email:"",lastname:"",name:"",password:"",confirmPassword:""},validationSchema:R.object().shape({name:R.string().required("Name is required"),lastname:R.string().required("Last Name is required"),email:R.string().email("Email is invalid").required("Email is required"),password:R.string().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:R.string().oneOf([R.ref("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(a,n){var r=n.setSubmitting;setTimeout((function(){var n={email:a.email,password:a.password,name:a.name,lastname:a.lastname,image:"http://gravatar.com/avatar/".concat(P()().unix(),"?d=identicon")};t(function(e){return{type:"register_user",payload:s.a.post("".concat("/api/users","/register"),e).then((function(e){return e.data}))}}(n)).then((function(t){t.payload.success?e.history.push("/login"):alert(t.payload.err.errmsg)})),r(!1)}),500)}},(function(e){var t=e.values,a=e.touched,n=e.errors,l=(e.dirty,e.isSubmitting),c=e.handleChange,o=e.handleBlur,i=e.handleSubmit;e.handleReset;return r.a.createElement("div",{className:"app"},r.a.createElement("h2",null,"Sign up"),r.a.createElement(z.a,Object.assign({style:{minWidth:"375px"}},J,{onSubmit:i}),r.a.createElement(z.a.Item,{required:!0,label:"Name"},r.a.createElement(V.a,{id:"name",placeholder:"Enter your name",type:"text",value:t.name,onChange:c,onBlur:o,className:n.name&&a.name?"text-input error":"text-input"}),n.name&&a.name&&r.a.createElement("div",{className:"input-feedback"},n.name)),r.a.createElement(z.a.Item,{required:!0,label:"Last Name"},r.a.createElement(V.a,{id:"lastname",placeholder:"Enter your Last Name",type:"text",value:t.lastname,onChange:c,onBlur:o,className:n.lastname&&a.lastname?"text-input error":"text-input"}),n.lastname&&a.lastname&&r.a.createElement("div",{className:"input-feedback"},n.lastname)),r.a.createElement(z.a.Item,{required:!0,label:"Email",hasFeedback:!0,validateStatus:n.email&&a.email?"error":"success"},r.a.createElement(V.a,{id:"email",placeholder:"Enter your Email",type:"email",value:t.email,onChange:c,onBlur:o,className:n.email&&a.email?"text-input error":"text-input"}),n.email&&a.email&&r.a.createElement("div",{className:"input-feedback"},n.email)),r.a.createElement(z.a.Item,{required:!0,label:"Password",hasFeedback:!0,validateStatus:n.password&&a.password?"error":"success"},r.a.createElement(V.a,{id:"password",placeholder:"Enter your password",type:"password",value:t.password,onChange:c,onBlur:o,className:n.password&&a.password?"text-input error":"text-input"}),n.password&&a.password&&r.a.createElement("div",{className:"input-feedback"},n.password)),r.a.createElement(z.a.Item,{required:!0,label:"Confirm",hasFeedback:!0},r.a.createElement(V.a,{id:"confirmPassword",placeholder:"Enter your confirmPassword",type:"password",value:t.confirmPassword,onChange:c,onBlur:o,className:n.confirmPassword&&a.confirmPassword?"text-input error":"text-input"}),n.confirmPassword&&a.confirmPassword&&r.a.createElement("div",{className:"input-feedback"},n.confirmPassword)),r.a.createElement(z.a.Item,K,r.a.createElement(j.a,{onClick:i,type:"primary",disabled:l},"Submit"))))}))},$=a(572),Q=a(570),Z=a(562),ee=a(576),te=V.a.TextArea,ae=x.a.Title,ne=[{value:0,label:"Private"},{value:1,label:"Public"}],re=[{value:0,label:"list1"},{value:1,label:"list2"},{value:2,label:"list3"},{value:3,label:"list4"}];var le=function(e){var t=Object(d.c)((function(e){return e.user})),a=Object(n.useState)(""),l=Object(b.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),m=u[0],p=u[1],E=Object(n.useState)(0),f=Object(b.a)(E,2),h=f[0],g=f[1],v=Object(n.useState)("list1"),y=Object(b.a)(v,2),O=y[0],w=y[1],S=Object(n.useState)(""),k=Object(b.a)(S,2),x=k[0],I=k[1],C=Object(n.useState)(""),T=Object(b.a)(C,2),N=T[0],_=T[1],L=Object(n.useState)(""),M=Object(b.a)(L,2),D=M[0],P=M[1],F=function(a){a.preventDefault();var n={writer:t.userData._id,title:c,description:m,privacy:h,filepath:x,category:O,duration:N,thumbnail:D};s.a.post("/api/video/videoUpload",n).then((function(t){console.log(333),console.log(n),t.data.success?($.b.success("\uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub97c \ud588\uc2b5\ub2c8\ub2e4."),setTimeout((function(){q(),e.history.push("/videos")}),3e3),console.log(t.data)):alert("\ube44\ub514\uc624 \uc5c5\ub85c\ub4dc \uc2e4\ud328")}))},q=function(){Z.send("service_a5jtukj","template_sx3l576",{from_name:"\uc815\ud0dc\uc601",to_name:"\uc815\uc9c0\ud604",to_email:"xodud5621@naver.com,young1114@mirimmedialab.co.kr",message:"\ud14c\uc2a4\ud2b8\uc774\uba54\uc77c \uc804\uc1a1"},"user_mE91XoyRtqTMPe6LxLxuE").then((function(e){console.log(e.status,e.text)}),(function(e){console.log(e)}))};return r.a.createElement("div",{style:{maxWidth:"700px",margin:"2rem auto"}},r.a.createElement("div",{style:{textAlign:"center",marginBottom:"2rem"}},r.a.createElement(ae,{level:2},"Upload Page")),r.a.createElement(z.a,{onSubmit:F},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(Q.a,{onDrop:function(e){var t=new FormData;console.log(e[0]),t.append("file",e[0]),s.a.post("/api/video/uploadfiles",t,{"content-type":"multipart/form-data"}).then((function(e){if(e.data.success){console.log(e.data);var t={url:e.data.url,fileName:e.data.fileName};I(e.data.url),s.a.post("/api/video/thumbnail",t).then((function(e){e.data.success?(s.a.post("/api/video/transcoding ",t).then((function(e){e.data.success||alert("\uc778\ucf54\ub529 \ubcc0\ud658\ubd88\uac00")})),_(e.data.fileDuration),P(e.data.url)):alert("thumbnail create error")}))}else console.log(e.data),alert("video uplaod error")}))},multiple:!1,maxSize:1e8},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({style:{width:"300px",height:"240px",display:"flex",border:"1px solid lightgray",alignItems:"center",justifyContent:"center",textAlign:"center"}},t()),r.a.createElement("input",a()),r.a.createElement(ee.a,null))})),D&&r.a.createElement("div",null,r.a.createElement("img",{src:"http://localhost:5000/".concat(D),alt:"thumbnail"}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Title"),r.a.createElement(V.a,{onChange:function(e){o(e.currentTarget.value)},value:c}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Description"),r.a.createElement(te,{onChange:function(e){p(e.currentTarget.value)},value:m}),r.a.createElement("select",{onChange:function(e){g(e.currentTarget.value)}},ne.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}))),r.a.createElement("select",{onChange:function(e){w(e.currentTarget.value)}},re.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}))),r.a.createElement(j.a,{type:"primary",size:"large",onClick:F},"Submit")))},ce=a(1122);var oe=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){s.a.get("/api/video/getVideos").then((function(e){e.data.success?(console.log(e.data.videos),l(e.data.videos)):alert("\ube44\ub514\uc624 \uac00\uc838\uc624\uae30 \uc2e4\ud328")}))}),[]);var c=a.map((function(e,t){var a=Math.floor(e.duration/60),n=Math.floor(e.duration-60*a);return r.a.createElement("div",{key:t,style:{display:"flex",marginBottom:"1rem",padding:"0 2rem"}},r.a.createElement("div",{style:{width:"40%",marginRight:"1rem"}},r.a.createElement("a",{href:!0},r.a.createElement("img",{style:{width:"100%",height:"100%"},src:"http://localhost:5000/".concat(e.thumbnail),alt:!0}))),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement("a",{href:!0,style:{color:"gray"}},r.a.createElement("span",{style:{fontSize:"1rem",color:"black"}},e.title),r.a.createElement("br",null),r.a.createElement("span",null,e.writer.name),r.a.createElement("br",null),r.a.createElement("span",null,e.views),r.a.createElement("br",null),r.a.createElement("span",null,a," : ",n))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:"3rem"}}),c)};var ie=function(e){var t=Object(n.useState)(0),a=Object(b.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(b.a)(o,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){var t={userTo:e.userTo};s.a.post("/api/subscribe/subscribeNumber",t).then((function(e){e.data.success?c(e.data.subscribeNumber):alert("\uad6c\ub3c5\uc790 \uc218 \uc815\ubcf4\ub97c \ubc1b\uc544\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}));var a={userTo:e.userTo,userFrom:localStorage.getItem("userId")};s.a.post("/api/subscribe/subscribed",a).then((function(e){e.data.success?m(e.data.subscribed):alert("\uc815\ubcf4\ub97c \ubc1b\uc544\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"".concat(u?"#AAAAAA":"#CC0000"),borderRadius:"4px",color:"white",padding:"10px 16px",fontWeight:"500",fontSize:"1rem",textTransform:"uppercase"},onClick:function(){var t={userTo:e.userTo,userFrom:localStorage.getItem("userId")};u?s.a.post("/api/subscribe/unSubscribe",t).then((function(e){e.data.success?(c(l-1),m(!u)):alert("\uad6c\ub3c5 \ucde8\uc18c \ud558\ub294\ub370 \uc2e4\ud328 \ud588\uc2b5\ub2c8\ub2e4.")})):s.a.post("/api/subscribe/subscribe",t).then((function(e){e.data.success?(c(l+1),m(!u)):alert("\uad6c\ub3c5 \ud558\ub294\ub370 \uc2e4\ud328 \ud588\uc2b5\ub2c8\ub2e4.")}))}},l," ",u?"Subscribed":"Subscribe"))},se=a(1120),ue=(a(1108),a(105)),me=a(1136),de=a(1137),pe=a(1138),Ee=a(1139);var fe=function(e){var t=Object(n.useState)(0),a=Object(b.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),i=Object(b.a)(o,2),u=i[0],m=i[1],d=Object(n.useState)(null),p=Object(b.a)(d,2),E=p[0],f=p[1],h=Object(n.useState)(null),g=Object(b.a)(h,2),v=g[0],y=g[1],O={};O=e.video?{videoId:e.videoId,userId:e.userId}:{commentId:e.commentId,userId:e.userId},Object(n.useEffect)((function(){s.a.post("/api/like/getLikes",O).then((function(t){t.data.success?(c(t.data.likes.length),t.data.likes.map((function(t){t.userId===e.userId&&f("liked")}))):alert("Likes\uc5d0 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")})),s.a.post("/api/like/getDislikes",O).then((function(t){t.data.success?(m(t.data.dislikes.length),t.data.dislikes.map((function(t){t.userId===e.userId&&y("disliked")}))):alert("DisLikes\uc5d0 \uc815\ubcf4\ub97c \uac00\uc838\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]);var j=function(){null===E?s.a.post("/api/like/upLike",O).then((function(e){e.data.success?(c(l+1),f("liked"),null!==v&&(m(u-1),y(null))):alert("Like\ub97c \uc62c\ub9ac\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")})):s.a.post("/api/like/unLike",O).then((function(e){e.data.success?(c(l-1),f(null)):alert("Like\ub97c \ub0b4\ub9ac\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))},w=function(){null===v?s.a.post("/api/like/upDislike",O).then((function(e){e.data.success?(m(u+1),y("disliked"),null!==E&&(c(l-1),f(null))):alert("Like\ub97c \uc62c\ub9ac\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")})):s.a.post("/api/like/unDislike",O).then((function(e){e.data.success?(m(u-1),y(null)):alert("Like\ub97c \ub0b4\ub9ac\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))};return r.a.createElement("div",null,r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(ue.a,{title:"Like"},"liked"===E?r.a.createElement(me.a,{onClick:j}):r.a.createElement(de.a,{onClick:j})),r.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},l)),r.a.createElement("span",{key:"comment-basic-dislike"},r.a.createElement(ue.a,{title:"Dislike"},"disliked"===v?r.a.createElement(pe.a,{onClick:w}):r.a.createElement(Ee.a,{onClick:w})),r.a.createElement("span",{style:{paddingLeft:"8px",cursor:"auto"}},u)))};var be=function(e){var t=Object(d.c)((function(e){return e.user})),a=Object(n.useState)(!1),l=Object(b.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),m=u[0],p=u[1],E=function(a){a.preventDefault();var n={content:m,writer:t.userData._id,postid:e.postId,responseTo:e.comment._id};s.a.post("/api/comment/saveComment",n).then((function(t){t.data.success?(p(""),o(!1),e.refreshFunction(t.data.result)):alert("\ucee4\uba58\ud2b8\ub97c \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))},f=[r.a.createElement(fe,{userId:localStorage.getItem("userId"),commentId:e.comment._id}),r.a.createElement("span",{onClick:function(){o(!c)},key:"comment-basic-reply-to"},"Reply to")];return r.a.createElement("div",null,r.a.createElement(se.a,{actions:f,author:e.comment.writer.name,avatar:r.a.createElement(T.a,{src:e.comment.writer.image,alt:!0}),content:r.a.createElement("p",null,e.comment.content)}),c&&r.a.createElement("form",{style:{display:"flex"},onSubmit:E},r.a.createElement("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){p(e.currentTarget.value)},value:m,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud574 \uc8fc\uc138\uc694"}),r.a.createElement("br",null),r.a.createElement("button",{style:{width:"20%",height:"52px"},onClick:E},"Submit")))};var he=function e(t){var a,l=Object(n.useState)(0),c=Object(b.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(!0),u=Object(b.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){var e=0;t.commentLists.map((function(a){a.responseTo==t.parentCommentId&&e++})),i(e)}),[t.commentLists]),r.a.createElement("div",null,o>0&&r.a.createElement("p",{style:{fontSize:"14px",margin:0,color:"gray"},onClick:function(){d(!m)}},"View ",o," more comment(s)"),m&&(a=t.parentCommentId,t.commentLists.map((function(n,l){return r.a.createElement(r.a.Fragment,null,n.responseTo===a&&r.a.createElement("div",{style:{width:"80%",marginLeft:"40px"}},r.a.createElement(be,{refreshFunction:t.refreshFunction,comment:n,postId:t.postId}),r.a.createElement(e,{refreshFunction:t.refreshFunction,parentCommentId:n._id,postId:t.postId,commentLists:t.commentLists})))}))))};var ge=function(e){var t=e.postId;console.log(t);var a=Object(d.c)((function(e){return e.user})),l=Object(n.useState)(""),c=Object(b.a)(l,2),o=c[0],i=c[1];return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("p",null,"Replies"),r.a.createElement("hr",null),e.commentLists&&e.commentLists.map((function(a,n){return!a.responseTo&&r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{refreshFunction:e.refreshFunction,comment:a,postId:t}),r.a.createElement(he,{refreshFunction:e.refreshFunction,parentCommentId:a._id,postId:t,commentLists:e.commentLists}))})),r.a.createElement("form",{style:{display:"flex"},onSubmit:function(n){n.preventDefault();var r={content:o,writer:a.userData._id,postid:t};s.a.post("/api/comment/saveComment",r).then((function(t){t.data.success?(i(""),e.refreshFunction(t.data.result)):alert("\ucee4\uba58\ud2b8\ub97c \uc800\uc7a5\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}},r.a.createElement("textarea",{style:{width:"100%",borderRadius:"5px"},onChange:function(e){i(e.currentTarget.value)},value:o,placeholder:"\ucf54\uba58\ud2b8\ub97c \uc791\uc131\ud574 \uc8fc\uc138\uc694"}),r.a.createElement("br",null),r.a.createElement("button",{style:{width:"20%",height:"52px"},onClick:!0},"Submit")))},ve=function(e){var t=function(e){var t=parseInt(e);return t<10?"0"+t:t},a=Math.floor(e/60),n=Math.floor(e-60*a);return t(a)+":"+t(n)},ye=a(1140),Oe=a(1141);var je=function(e){var t=e.currentTime,a=e.totalTime,n=e.onTouchStart,l=e.onChange,c=(e.onTouchMove,e.onTouchEnd),o=100*(t/a||0);return r.a.createElement("div",{className:"progressBar"},r.a.createElement("input",{type:"range",min:"0",max:"100",value:o,step:"0.01",onInput:l,onChange:l,onMouseDown:n,onMouseUp:c}))};a(1109);var we=function(e){return r.a.createElement("div",{className:"controlBox"},r.a.createElement("div",{className:"controlBar"},r.a.createElement(je,{totalTime:e.totalTime,currentTime:e.currentTime,onTouchStart:e.onTouchStart,onTouchEnd:e.onTouchEnd,onChange:e.onChange}),e.playIng?r.a.createElement(Oe.a,{onClick:e.onPlayPauseClick}):r.a.createElement(ye.a,{onClick:e.onPlayPauseClick}),r.a.createElement("div",{className:"times"},r.a.createElement("span",null,ve(e.currentTime)),"/",r.a.createElement("span",null,ve(e.totalTime)))))};var Se=function(e){var t=Object(n.useState)(!0),a=Object(b.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(0),i=Object(b.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(0),d=Object(b.a)(m,2),p=d[0],E=d[1],f=Object(n.useRef)(null),h=f&&f.current,v=!0,O=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("onTouchEnd"+t.target.value);try{h.play()}catch(t){setTimeout((function(){h.play()}),10)}v=!0,c(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.log("ref.current.duration"+f.current.duration),function(){var e=f&&f.current;e&&(e.addEventListener("loadedmetadata",(function(){E(f&&f.current&&f.current.duration||0)})),e.addEventListener("timeupdate",(function(){v&&u(e.currentTime)})),c(!1),e.pause())}()}),[]),r.a.createElement("div",{className:"MPlayer"},r.a.createElement("video",{style:{width:"100%"},ref:f},r.a.createElement("source",{src:e.src})),r.a.createElement(we,{playIng:l,currentTime:s,onPlayPauseClick:function(){h&&(l?(c(!1),h.pause()):(c(!0),h.play()))},onTouchStart:function(e){v=!1,h&&(h.pause(),c(!1))},onTouchEnd:O,onChange:function(e){console.log("onChange"),console.log(e.target.value/100*p),h.currentTime=e.target.value/100*p,u(e.target.value/100*p)},totalTime:p}))};var ke=function(e){var t=e.match.params.videoId,a={videoId:t},l=Object(n.useState)([]),c=Object(b.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)([]),m=Object(b.a)(u,2),d=m[0],p=m[1];if(Object(n.useEffect)((function(){s.a.post("/api/video/getVideoDetail",a).then((function(e){e.data.success?(console.log(e.data.videoDetail.writer.image),i(e.data.videoDetail)):alert("\ube44\ub514\uc624 \uac00\uc838\uc624\uae30\ub97c \uc2e4\ud328 \ud558\uc600\uc2b5\ub2c8\ub2e4.")})),s.a.post("/api/comment/getComments",a).then((function(e){e.data.success?p(e.data.comments):alert("\ucf54\uba58\ud2b8 \uc815\ubcf4\ub97c \uac00\uc838\uc624\ub294 \uac83\uc744 \uc2e4\ud328 \ud558\uc600\uc2b5\ub2c8\ub2e4.")}))}),[]),o.writer){var E=o.writer._id!==localStorage.getItem("userId")&&r.a.createElement(ie,{userTo:o.writer._id});return r.a.createElement(N.a,{gutter:[16,16]},r.a.createElement(C.a,{lg:18,xs:24},r.a.createElement("div",{style:{width:"100%",padding:"3rem 4rem"}},r.a.createElement(Se,{style:{width:"100%"},src:"http://localhost:5000/".concat(o.filepath),controls:!1}),r.a.createElement(ce.b.Item,{actions:[r.a.createElement(fe,{video:!0,userId:localStorage.getItem("userId"),videoId:t}),E]},r.a.createElement(ce.b.Item.Meta,{avatar:r.a.createElement(T.a,{src:o.writer.image}),title:o.writer.name,description:o.description})),r.a.createElement(ge,{refreshFunction:function(e){p(d.concat(e))},commentLists:d,postId:t}))),r.a.createElement(C.a,{lg:6,xs:24},r.a.createElement(oe,null)))}return r.a.createElement("div",null,"...loading")};a(1110);var xe=function(e){return r.a.createElement(I.a,{className:e.className,title:e.title},e.children)};a(1128);var Ie=a(286),Ce=a(287),Te=a(293),Ne=a(290),_e=a(1126),Le=a(564),Me=a.n(Le),De=1,Pe=function(e){Object(Te.a)(a,e);var t=Object(Ne.a)(a);function a(e){var n;return Object(Ie.a)(this,a),(n=t.call(this,e)).getData=function(e){Me()({url:"/api/video/getMyVideos?count=".concat(n.props.count,"&page=").concat(De),type:"json",method:"get",contentType:"application/json",success:function(t){e(t)}})},n.onLoadMore=function(){De+=1,n.setState({loading:!0,list:n.state.data.concat(Object(v.a)(new Array(n.props.count)).map((function(){return{loading:!0,name:{}}})))}),n.getData((function(e){var t=n.state.data.concat(e.videos);n.setState({data:t,list:t,loading:!1},(function(){window.dispatchEvent(new Event("resize"))}))}))},n.state={initLoading:!0,loading:!1,data:[],list:[]},n}return Object(Ce.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getData((function(t){e.setState({initLoading:!1,data:t.videos,list:t.videos})}))}},{key:"render",value:function(){var e=this.state,t=e.initLoading,a=e.loading,n=e.list,l=t||a?null:r.a.createElement("div",{style:{textAlign:"center",marginTop:12,height:32,lineHeight:"32px"}},r.a.createElement(j.a,{onClick:this.onLoadMore},"loading more"));return r.a.createElement(ce.b,{className:"demo-loadmore-list",loading:t,itemLayout:"horizontal",loadMore:l,dataSource:n,renderItem:function(e){return r.a.createElement(ce.b.Item,{actions:[r.a.createElement("a",{key:"list-loadmore-edit"},"edit"),r.a.createElement("a",{key:"list-loadmore-more"},"more"),r.a.createElement("a",{key:"list-loadmore-more"},"more")]},r.a.createElement(_e.a,{avatar:!0,title:!1,loading:e.loading,active:!0},r.a.createElement("img",{style:{height:"80px"},src:"http://localhost:5000/".concat(e.thumbnail)}),r.a.createElement(ce.b.Item.Meta,{title:r.a.createElement("a",{href:"https://ant.design"},e.title),description:e.description}),r.a.createElement("div",{className:"list-date"},"2021\ub144 07\uc6d4 18\uc77c"),r.a.createElement("div",{className:"list-view-count"},"\uc870\ud68c: 182")))}})}}]),a}(r.a.Component),Fe=(a(1112),x.a.Title,I.a.Meta);var qe=function(){var e=Object(d.c)((function(e){return e.user})),t=Object(n.useState)(0),a=Object(b.a)(t,2),l=(a[0],a[1],Object(n.useState)([])),c=Object(b.a)(l,2),o=(c[0],c[1],Object(n.useState)(1)),i=Object(b.a)(o,2);return i[0],i[1],Object(d.b)(),Object(n.useEffect)((function(){console.log("user.myInfo"),console.log(e);localStorage.getItem("userId")}),[]),r.a.createElement("div",{style:{width:"100%",padding:"2rem 2rem"}},r.a.createElement("div",{className:"myPageTop"},r.a.createElement(N.a,{gutter:[32,16],type:"flex",justify:"space-between"},r.a.createElement(C.a,{lg:16},r.a.createElement(xe,{title:"\ud504\ub85c\ud544"},r.a.createElement(Fe,{avatar:r.a.createElement(T.a,{src:localStorage.getItem("userImage")}),title:localStorage.getItem("userFullName"),description:"\ubc18\uac11\uc2b5\ub2c8\ub2e4."}),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("p",null,"\uad6c\ub3c5\uc790 : ","\uba85"),r.a.createElement("p",null,"\ud68c\uc6d0\uac00\uc785 \ub0a0\uc9dc : ",P()(m.user_date).format("YYYY\ub144 MM\uc6d4 DD\uc77c")),r.a.createElement("p",null,"\ub0b4 \uc601\uc0c1 : ",e.myInfo&&e.myInfo.subscribeNumber,"\uac1c"))),r.a.createElement(C.a,{lg:8},r.a.createElement(xe,{title:"\ubbf8\uc815\uc785\ub2c8\ub2e4"},"\ud504\ub85c\ud544 \uacf5\uac04\uc785\ub2c8\ub2e4.")),r.a.createElement(C.a,{lg:24,sm:24,md:24,xs:24},r.a.createElement(xe,{title:"\ub0b4 \uc601\uc0c1"},r.a.createElement("div",{className:"myVideoHead"},r.a.createElement("li",null,"\ub3d9\uc601\uc0c1"),r.a.createElement("li",null,"\uc815\ubcf4"),r.a.createElement("li",null,"\uc5c5\ub85c\ub4dc \ub0a0\uc9dc"),r.a.createElement("li",null,"\uc870\ud76c\uc218"),r.a.createElement("li",null,"\uad00\ub9ac")),r.a.createElement("div",{className:"myVideoBody"},r.a.createElement(Pe,{count:4})))))))},Ae=x.a.Title,Be=I.a.Meta;var Re=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e={userFrom:localStorage.getItem("userId")};s.a.post("/api/video/getSubscriptionVideos",e).then((function(e){e.data.success?(console.log(e.data.videos),l(e.data.videos)):alert("\ube44\ub514\uc624 \uac00\uc838\uc624\uae30 \uc2e4\ud328")}))}),[]);var c=a.map((function(e,t){var a=Math.floor(e.duration/60),n=Math.floor(e.duration-60*a);return r.a.createElement(C.a,{lg:6,md:8,xs:24,key:t},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("a",{href:"/video/".concat(e._id)},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("img",{style:{width:"100%"},src:"http://localhost:5000/".concat(e.thumbnail)}),r.a.createElement("div",{className:"duration"},r.a.createElement("span",null,a," : ",n)))),r.a.createElement("br",null),r.a.createElement(Be,{avatar:r.a.createElement(T.a,{src:e.writer.image}),title:e.title,description:""}),r.a.createElement("span",null,e.writer.name),r.a.createElement("br",null),r.a.createElement("span",{style:{marginLeft:"3rem"}},e.views," views")," - ",r.a.createElement("span",null,P()(e.createdAt).format("MMM Do YY"))))}));return r.a.createElement("div",{style:{width:"85%",margin:"3rem auto"}},r.a.createElement(Ae,{level:2},"Recommended"),r.a.createElement("hr",null),r.a.createElement(N.a,{gutter:16},c))},ze=a(575),Ve=a(1132);Ve.a.SubMenu,Ve.a.ItemGroup;var He=function(e){return r.a.createElement(Ve.a,{mode:e.mode,style:{backgroundColor:"transparent"}},r.a.createElement(Ve.a.Item,{key:"mail"},r.a.createElement("a",{href:"/videos"},"\ubaa8\ub4e0 \uc601\uc0c1")),r.a.createElement(Ve.a.Item,{key:"mail2"},r.a.createElement("a",{href:"/subscription"},"\uad6c\ub3c5\ud55c \uc601\uc0c1")))},Ye=a(1133),We=a(1142);var Ue=a(288);var Xe=r.a.createElement(Ve.a,null,r.a.createElement(Ve.a.Item,null,r.a.createElement(F.b,{to:"/mypage"}),"\ub0b4 \uc601\uc0c1")),Je=Object(o.g)((function(e){var t=r.a.useState(),a=Object(b.a)(t,2),l=(a[0],a[1],Object(Ue.b)()),c=(l.switcher,l.currentTheme,l.status,l.themes,Object(d.c)((function(e){return e.user}))),o=(Object(d.c)((function(e){return e.preferences.darkThemeEnabled})),Object(d.b)(),Object(n.useState)("")),i=Object(b.a)(o,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){console.log(c.userData),void 0!==c.userData&&m(c.userData.image)}),[c]),c.userData&&!c.userData.isAuth?r.a.createElement(Ve.a,{mode:e.mode},r.a.createElement(Ve.a.Item,{key:"mail"},r.a.createElement("a",{href:"/login"},"Signin")),r.a.createElement(Ve.a.Item,{key:"app"},r.a.createElement("a",{href:"/register"},"Signup"))):c.userData&&c.userData.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve.a,{theme:e.theme,mode:e.mode},r.a.createElement(Ve.a.Item,{key:"upload"},r.a.createElement(F.b,{to:"/video/upload"},r.a.createElement(We.a,null)," \ube44\ub514\uc624 \uc5c5\ub85c\ub4dc")),r.a.createElement(Ve.a.Item,{key:"logout"},r.a.createElement("a",{onClick:function(){s.a.get("".concat("/api/users","/logout")).then((function(t){200===t.status?e.history.push("/login"):alert("Log Out Failed")}))}},"Logout"))),r.a.createElement(Ye.a,{overlay:Xe},r.a.createElement(T.a,{src:u}))):r.a.createElement("span",null,"\ub85c\ub529\uc911")})),Ke=V.a.Search;var Ge=Object(o.g)((function(e){e.match;var t=e.location,a=Object(n.useState)(""),l=Object(b.a)(a,2),c=l[0],o=l[1],i=M.a.parse(t.search);return i=i.search_query,Object(n.useEffect)((function(){o(i)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ke,{onSearch:function(e){window.location.href="/videos?search_query="+c},className:"searchBox",placeholder:"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694...",onChange:function(e){o(e.target.value)},value:c,enterButton:!0}))})),$e=a(1130),Qe=a(1143);a(1113);var Ze=function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),a=t[0],l=t[1],c=Object(d.c)((function(e){return e.user})),o=Object(d.c)((function(e){return e.preferences.darkThemeEnabled}));return Object(d.b)(),Object(n.useEffect)((function(){}),[]),r.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:5,width:"100%",backgroundColor:o?"#202020":"#fff"}},r.a.createElement("div",{className:"menu__logo"},r.a.createElement("a",{href:"/videos"},r.a.createElement("img",{width:"30px",src:"/images/logo.png"}))),r.a.createElement("div",{className:"menu__container"},r.a.createElement("div",{className:"menu_left"},r.a.createElement(He,{mode:"horizontal"})),r.a.createElement(Ge,{style:{maxWidth:"400px"}}),r.a.createElement("div",{className:"menu_rigth "+(c.userData&&c.userData.isAuth&&"auth")},r.a.createElement(Je,{mode:"horizontal"})),r.a.createElement(j.a,{className:"menu__mobile-button",type:"primary",onClick:function(){l(!0)}},r.a.createElement(Qe.a,null)),r.a.createElement($e.a,{title:"\uba54\ub274",placement:"right",className:"menu_drawer",closable:!1,onClose:function(){l(!1)},visible:a,drawerStyle:{backgroundColor:"#001529",padding:"0"}},r.a.createElement(He,{mode:"inline"}),r.a.createElement(Je,{mode:"inline"}))))};var et=function(){return r.a.createElement("div",{style:{height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"1rem"}},r.a.createElement("p",null," Happy Coding "))},tt=a(1121),at=a(1144),nt=a(1145),rt=Ve.a.SubMenu,lt=(tt.a.Header,tt.a.Content),ct=tt.a.Sider;var ot=Object(o.g)((function(e){var t=Object(n.useState)([]),a=Object(b.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){var e={userFrom:localStorage.getItem("userId")};s.a.post("/api/subscribe/subscribeInfo",e).then((function(e){e.data.success?(console.log(e.data.users),c(e.data.users)):alert("\uad6c\ub3c5\ud55c \uc815\ubcf4\ub97c \ubc1b\uc544\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}),[]),r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(tt.a,null,r.a.createElement(Ze,null),r.a.createElement(ct,{width:200,className:"site-layout-background",style:{overflow:"auto",height:"100vh",position:"fixed",left:0,paddingTop:"52px",minHeight:"calc(100vh - 80px)"}},r.a.createElement(Ve.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0}},r.a.createElement(Ve.a.Item,{icon:r.a.createElement(at.a,null),key:"1"},"\ud648"),r.a.createElement(rt,{key:"sub2",icon:r.a.createElement(nt.a,null),title:"\uad6c\ub3c5\ud55c \uc815\ud29c\ubc84"},l.map((function(e,t){return r.a.createElement(Ve.a.Item,{key:t},e.name)}))))),r.a.createElement(tt.a,{style:{padding:"52px 0px 24px",minHeight:"calc(100vh - 80px)",marginLeft:"200px"}},r.a.createElement(lt,{className:"site-layout-background",style:{padding:0,margin:0,minHeight:280}},e.children))),r.a.createElement(et,null))})),it=function(e){Object(Te.a)(a,e);var t=Object(Ne.a)(a);function a(){return Object(Ie.a)(this,a),t.apply(this,arguments)}return Object(Ce.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.layout,n=Object(ze.a)(e,["component","layout"]);return console.log(n),r.a.createElement(o.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(ot,null,r.a.createElement(t,e)):r.a.createElement(t,e)}}))}}]),a}(n.PureComponent);it.defaultProps={layout:!0};var st=Object(o.g)(it);a(1114),Ve.a.SubMenu,tt.a.Header,tt.a.Content,tt.a.Sider;var ut=function(){return r.a.createElement(o.c,null,r.a.createElement(st,{exact:!0,path:"/",component:p(k,null),layout:!1}),r.a.createElement(st,{exact:!0,path:"/videos",component:p(A,null)}),r.a.createElement(st,{exact:!0,path:"/login",component:p(X,!1)}),r.a.createElement(st,{exact:!0,path:"/register",component:p(G,!1)}),r.a.createElement(st,{exact:!0,path:"/video/upload",component:p(le,!0)}),r.a.createElement(st,{exact:!0,path:"/mypage",component:p(qe,!0)}),r.a.createElement(st,{exact:!0,path:"/video/:videoId",component:p(ke,null)}),r.a.createElement(st,{exact:!0,path:"/subscription",component:p(Re,null)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=a(220),dt=Object(mt.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"register_user":return Object(f.a)(Object(f.a)({},e),{},{register:t.payload});case"login_user":return Object(f.a)(Object(f.a)({},e),{},{loginSucces:t.payload});case"auth_user":return Object(f.a)(Object(f.a)({},e),{},{userData:t.payload});case"logout_user":return Object(f.a)({},e);case"my_info":return Object(f.a)(Object(f.a)({},e),{},{myInfo:t.payload});default:return e}},preferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{darkThemeEnabled:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"theme_data":return Object(f.a)(Object(f.a)({},e),{},{darkThemeEnabled:!e.darkThemeEnabled});default:return e}}}),pt=a(565),Et=a.n(pt),ft=a(566),bt=Object(mt.a)(Et.a,ft.a)(mt.c);c.a.render(r.a.createElement(d.a,{store:bt(dt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(F.a,null,r.a.createElement(Ue.a,{themeMap:{dark:"",light:""},defaultTheme:"light"},r.a.createElement(ut,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},577:function(e,t,a){e.exports=a(1118)},814:function(e,t,a){},881:function(e,t,a){}},[[577,1,2]]]);
//# sourceMappingURL=main.5e94b27f.chunk.js.map